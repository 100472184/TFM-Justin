# CVE-2023-50246: Patch Information

## Upstream Fix
- **Commit:** `71c2ab509a8628dbbad4bc7b3f98a64aa90d3297`
- **Advisory:** GHSA-686w-5m7m-54vc
- **Merged:** December 2023
- **Release:** jq 1.7.1 (security release)

## Patch Behavior

**Before (vulnerable):**
- `decToString` allocates buffer based on estimated output size
- Buffer calculation doesn't account for certain number formats
- Large/malformed numbers cause buffer overflow during string conversion

**After (fixed):**
- Proper buffer size calculation for all number formats
- Bounds checking during string conversion
- Prevents heap corruption on malformed numeric input

## General Vulnerability Concept

**Attack surface:** JSON numeric value processing

**Vulnerability mechanism:**
- jq parses JSON numbers using decimal number library
- The `decToString` function converts internal representation to string
- Insufficient buffer allocation leads to heap overflow during output

## Fuzzing Strategy Hint

**Effective approach for this CVE:**
- The vulnerability triggers on specially crafted numeric values
- Focus on JSON files with unusual number representations
- Numbers with extreme precision or scale may trigger the bug
- Use mutations that modify or append numeric content in JSON
- Do NOT focus on deeply nested structures (that's a different CVE)
